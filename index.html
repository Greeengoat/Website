<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Basic Page Needs
    ================================================== -->
    <meta charset="utf-8">
    <title>Home</title>
    <meta name="description" content="My Very First Website">
    <meta name="author" content="Tan Qing Yang">

    <!-- Mobile Specific Metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="css/zerogrid.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/page.css">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <script src="js/jquery1111.min.js" type="text/javascript"></script>
    <script src="js/script.js"></script>
    <script src="js/main.js"></script>
    <script src="js/modernizr.js"></script> <!-- Modernizr -->

    <!-- Owl Carousel Assets -->
    <link href="owl-carousel/owl.carousel.css" rel="stylesheet">

    <link rel="shortcut icon" type="image/x-cion" href="images/favicon.ico"/>

    <script type="text/javascript">
    	jQuery(document).ready(function(event){
    		var isAnimating = false,
    		newLocation = '';
    		firstLoad = false;

  //trigger smooth transition from the actual page to the new one 
  $('body').on('click', '[data-type="page-transition"]', function(event){
  	console.log("IN");
  	event.preventDefault();
    //detect which page has been selected
    var newPage = $(this).attr('href');
    //if the page is not already being animated - trigger animation
    if( !isAnimating ) changePage(newPage, true);
    firstLoad = true;
});

  //detect the 'popstate' event - e.g. user clicking the back button
  $(window).on('popstate', function() {
  	if( firstLoad ) {
      /*
      Safari emits a popstate event on page load - check if firstLoad is true before animating
      if it's false - the page has just been loaded 
      	*/
      console.log("popstate");
      var newPageArray = location.pathname.split('/'),
        //this is the url of the page to be loaded 
        newPage = newPageArray[newPageArray.length - 1];
        console.log(newPage);
        console.log(newPageArray);

        if( !isAnimating  &&  newLocation != newPage ) changePage(newPage, false);
    }
    firstLoad = true;
});

  function changePage(url, bool) {
  	isAnimating = true;
    // trigger page animation
    $('body').addClass('page-is-changing');
    $('.cd-loading-bar').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){
    	loadNewContent(url, bool);
    	newLocation = url;
    	$('.cd-loading-bar').off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');
    });
    //if browser doesn't support CSS transitions
    if( !transitionsSupported() ) {
    	loadNewContent(url, bool);
    	console.log("Transition not supported");
    	newLocation = url;
    }
}

function loadNewContent(url, bool) {
	url = ('' == url) ? 'index.html' : url;
	console.log(url);
	var newSection = 'cd-'+url.replace('.html', '');
	var section = $('<div class="cd-main-content '+newSection+'"></div>');
	console.log(newSection);
	console.log(section);

	section.load(url+' .cd-main-content > *', function(event){
      // load new content and replace <main> content with the new one
      $('main').html(section);
      //if browser doesn't support CSS transitions - dont wait for the end of transitions
      var delay = ( transitionsSupported() ) ? 1200 : 0;
      setTimeout(function(){
        //wait for the end of the transition on the loading bar before revealing the new content
        ( section.hasClass(newSection) ) ? $('body').addClass(newSection) : $('body').removeClass(newSection);
        $('body').removeClass('page-is-changing');
        $('.cd-loading-bar').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){
        	isAnimating = false;
        	$('.cd-loading-bar').off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');
        });

        if( !transitionsSupported() ) isAnimating = false;
    }, delay);
      
      if(url!=window.location && bool){
        //add the new page to the window.history
        //if the new page was triggered by a 'popstate' event, don't add it
        //window.history.pushState({path: url},'',url);
    }
});
}

function transitionsSupported() {
	console.log($('html').hasClass('csstransitions'));
	return $('html').hasClass('csstransitions');
}
});
</script>

</head>

<body>
	<main>
		<div class="cd-index cd-main-content">
			<div class="wrap-body">
				<div class="button">
					<a class="btn-open" href="#"></a>
				</div>
				<header> 
					<div class="overlay">
						<div class="vhtop30">
							<div class="grid">
								<div class="section group">
									<a class="col active span_1_of_3 animated pulse" href="index.html">
										<i class="fa fa-home fa-5x" aria-hidden="true"></i>
										<p>HOME</p>
									</a>
									<a class="col span_1_of_3 animated pulse" href="about.html" data-type="page-transition">
										<i class="fa fa-male fa-5x" aria-hidden="true"></i>
										<p>ABOUT ME</p>
									</a>
									<a class="col span_1_of_3 animated pulse" href="internship.html" data-type="page-transition">
										<i class="fa fa-suitcase fa-5x" aria-hidden="true"></i>
										<p>INTERNSHIP</p>
									</a>
								</div>
								<div class="section group">
									<a class="col span_1_of_3 animated pulse" href="project.html">
										<i class="fa fa-clipboard fa-5x" aria-hidden="true"></i>
										<p>PROJECTS</p>
									</a>
									<a class="col span_1_of_3 animated pulse" href="skill.html">
										<i class="fa fa-tasks fa-5x" aria-hidden="true"></i>
										<p>SKILLS</p>
									</a>
									<a class="col span_1_of_3 animated pulse" href="contact.html">
										<i class="fa fa-phone fa-5x" aria-hidden="true"></i>
										<p>CONTACT ME</p>
									</a>
								</div>
							</div>
						</div>
					</div>
				</header>

				<!--////////////////////////////////////Container-->
				<section id="container">
					<div class="wrap-container zerogrid">
						<!-----------------content-box-1-------------------->
						<section class="content-box box-1 box-image-1">
							<div class="row wrap-box"><!--Start Box-->
								<div class="col-1-2">
									<div class="box-text">
										<p class="lead">Hello! I am</p>
										<span style="color:#B81D18">Tan Qing Yang</span>
										<p class="lead1">National University of Singapore<br>Business Analytics Major</p>
									</div>
								</div>
							</div>
						</section>
					</div>
				</section>
			</div>
		</div>
	</main>

	<div class="cd-cover-layer"></div>
	<div class="cd-loading-bar"></div>
	<script src="js/jquery-2.1.1.js"></script>
</body>
</html>